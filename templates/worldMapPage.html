<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Equal measures 2030</title>

    <!-- Bootstrap core CSS -->
    <link href="{{ url_for('static',filename='styles/bootstrap.min.css') }}" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="{{ url_for('static',filename='styles/font-awesome.min.css') }}" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <!-- <link href="css/freelancer.css" rel="stylesheet"> -->
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/worldMapPage.css') }}">

    <link href="{{ url_for('static',filename='styles/worldMapPage.css') }}" rel="stylesheet">


    <!--Custom map-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
    <script src="{{ url_for('static',filename='js/datamaps.world.min.js') }}"></script>

</head>

<body id="page-top">

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">World Map</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            Menu
            <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#page-down">Statistics</a>
                </li>
                <!--<li class="nav-item">-->
                <!--&lt;!&ndash;<a class="nav-link js-scroll-trigger" href="#portfolio">Statistics</a>&ndash;&gt;-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                <!--<a class="nav-link js-scroll-trigger" href="#portfolio">Gallery</a>-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                <!--<a class="nav-link js-scroll-trigger" href="#about">About</a>-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                <!--<a class="nav-link js-scroll-trigger" href="#contact">Contact</a>-->
                </li>
            </ul>
        </div>
    </div>
</nav>


    <!--<link rel="import" href="worldmap.html">-->

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="{{ url_for('static',filename='styles/world.css') }}" rel="stylesheet">

    <!--Custom map-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
    <script src="{{ url_for('static',filename='js/datamaps.world.min.js') }}"></script>
    <script src="{{ url_for('static',filename='js/RadarChart.js') }}"></script>
    <script type=text/javascript src="{{ url_for('static',filename='js/jquery-3.2.1.min.js') }}"></script>
    <style>
        #chart {
            position: relative;
            top: 4.5em;
            left: 22em;}
    </style>
</head>
<body>
<div class="aspectwrapper">
    <div class="content">
        <div id="map" style="position: relative; width: 100%; height: 100%"></div>
        <script type=text/javascript>
            function getCountryDetails(country) {
                var result;
                $.ajax({
                    async:false,
                    type: "GET",
                    url: $SCRIPT_ROOT + '/getData',
                    data: {
                        "country": country
                    },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function(data){
                        result = data;
                    }
                });

                return result;
            }
        </script>

        <script>
            var selected = [];
            var map = new Datamap({
                element: document.getElementById("map"),
                projection: 'mercator',
                fills: {
                    defaultFill: "#707076"
                },
                geographyConfig: {
                    highlightOnHover: false
                },
                done: function(datamap) {
                    datamap.svg.selectAll('.datamaps-subunit').on('click', function(geography) {
                        var countryId = geography.id;
                        console.log(countryId);
                        var countryName = geography.properties.name;
                        if(selected.includes(countryName)){
                            var index = selected.indexOf(countryName);
                            if (index > -1) {
                                selected.splice(index, 1);
                                var data = {};
                                data[countryId] = "#707076";
                                map.updateChoropleth(data);
                            }
                        } else {
                            selected.push(countryName);
                            var data = {};
                            data[countryId] = "green";
                            map.updateChoropleth(data);
                        }

                    });
                }
            });
        </script>
    </div>
</div>
<div id="body">
    <div id="chart"></div>
</div>

<script type="text/javascript" src="{{ url_for('static',filename='js/script.js') }}"></script>
</body>

<section  id="horizontalBarChart">
    <!DOCTYPE html>
    <meta charset="utf-8">
    <style>
        body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            width: 960px;
            height: 500px;
            position: relative;
        }
        svg {
            width: 100%;
            height: 100%;
            position: center;
        }
        .toolTip {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            position: absolute;
            display: none;
            width: auto;
            height: auto;
            background: none repeat scroll 0 0 white;
            border: 0 none;
            border-radius: 8px 8px 8px 8px;
            box-shadow: -3px 3px 15px #888888;
            color: black;
            font: 12px sans-serif;
            padding: 5px;
            text-align: center;
        }
        .legend {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            font-size: 60%;
        }
        text {
            font: 10px sans-serif;
        }
        .axis text {
            font: 10px sans-serif;
        }
        .axis path{
            fill: none;
            stroke: #000;
        }
        .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }
        .axis .tick line {
            stroke-width: 1;
            stroke: rgba(0, 0, 0, 0.2);
        }
        .x.axis path {
            display: none;
        }
    </style>
    <body>

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script>

        dataset = [
            {label:"Men", "Not Satisfied":20, "Not Much Satisfied":10, "Satisfied": 50, "Very Satisfied":20},
            {label:"Women", "Not Satisfied":15, "Not Much Satisfied":30, "Satisfied":40, "Very Satisfied":15}
        ];

        function verticalWrap(text, width) {
            text.each(function() {
                var text = d3.select(this),
                    words = text.text().split(/\s+/).reverse(),
                    word,
                    line = [],
                    lineNumber = 0,
                    lineHeight = 1.1, // ems
                    y = text.attr("y"),
                    x = text.attr("x"),
                    dy = parseFloat(text.attr("dy")),
                    tspan = text.text(null).append("tspan").attr("x", x).attr("y", y).attr("dy", dy + "em");
                while (word = words.pop()) {
                    line.push(word);
                    tspan.text(line.join(" "));
                    if (tspan.node().getComputedTextLength() > width) {
                        line.pop();
                        tspan.text(line.join(" "));
                        line = [word];
                        tspan = text.append("tspan").attr("x", x).attr("y", y).attr("dy", ++lineNumber * lineHeight + dy + "em").text(word);
                    }
                }
            });
        }


        var margin = {top: (parseInt(d3.select('body').style('height'), 10)/20), right: (parseInt(d3.select('body').style('width'), 10)/20), bottom: (parseInt(d3.select('body').style('height'), 10)/20), left: (parseInt(d3.select('body').style('width'), 10)/10)},
            width = parseInt(d3.select('body').style('width'), 10) - margin.left - margin.right,
            height = parseInt(d3.select('body').style('height'), 10) - margin.top - margin.bottom;

        var y0 = d3.scale.ordinal()
            .rangeRoundBands([height, 0], .2, 0.5);

        var y1 = d3.scale.ordinal();

        var x = d3.scale.linear()
            .range([0, width]);

        var colorRange = d3.scale.category20();
        var color = d3.scale.ordinal()
            .range(colorRange.range());

        var xAxis = d3.svg.axis()
            .scale(x)
            .tickSize(-height)
            .orient("bottom");

        var yAxis = d3.svg.axis()
            .scale(y0)
            .orient("left");
        //.tickFormat(d3.format(".2s"));

        var divTooltip = d3.select("body").append("div").attr("class", "toolTip");


        var svg = d3.select("body").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


        var options = d3.keys(dataset[0]).filter(function(key) { return key !== "label"; });

        dataset.forEach(function(d) {
            d.valores = options.map(function(name) { return {name: name, value: +d[name]}; });
        });

        y0.domain(dataset.map(function(d) { return d.label; }));
        y1.domain(options).rangeRoundBands([0, y0.rangeBand()]);
        x.domain([0, d3.max(dataset, function(d) { return d3.max(d.valores, function(d) { return d.value; }); })]);


        svg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + height + ")")
            .call(xAxis);

        svg.append("g")
            .attr("class", "y axis")
            .call(yAxis);

        svg.selectAll(".y.axis .tick text")
            .call(verticalWrap, y0.rangeBand());

        var bar = svg.selectAll(".bar")
            .data(dataset)
            .enter().append("g")
            .attr("class", "rect")
            .attr("transform", function(d) { return "translate( 0,"+ y0(d.label) +")"; });

        var bar_enter = bar.selectAll("rect")
            .data(function(d) { return d.valores; })
            .enter()


        bar_enter.append("rect")
            .attr("height", y1.rangeBand())
            .attr("y", function(d) { return y1(d.name); })
            .attr("x", function(d) { return 0; })
            .attr("value", function(d){return d.name;})
            .attr("width", function(d) { return x(d.value); })
            .style("fill", function(d) { return color(d.name); });

        bar_enter.append("text")
            .attr("x", function(d) { return x(d.value) +5;  })
            .attr("y", function(d) { return y1(d.name) +(y1.rangeBand()/2); })
            .attr("dy", ".35em")
            .text(function(d) { return d.value; });

        bar
            .on("mousemove", function(d){
                divTooltip.style("left", d3.event.pageX+10+"px");
                divTooltip.style("top", d3.event.pageY-25+"px");
                divTooltip.style("display", "inline-block");
                var x = d3.event.pageX, y = d3.event.pageY
                var elements = document.querySelectorAll(':hover');
                l = elements.length
                l = l-1
                elementData = elements[l].__data__
                divTooltip.html((d.label)+"<br>"+elementData.name+"<br>"+elementData.value+"%");
            });
        bar
            .on("mouseout", function(d){
                divTooltip.style("display", "none");
            });

        var legend = svg.selectAll(".legend")
            .data(options.slice())
            .enter().append("g")
            .attr("class", "legend")
            .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

        legend.append("rect")
            .attr("x", width - 18)
            .attr("width", 18)
            .attr("height", 18)
            .style("fill", color);

        legend.append("text")
            .attr("x", width - 24)
            .attr("y", 9)
            .attr("dy", ".35em")
            .style("text-anchor", "end")
            .text(function(d) { return d; });
    </script>
    </body>
</section>


<!-- Footer -->
<footer class="text-center">
    <div class="footer-above">
        <div class="container">
            <div class="row">
                <div class="footer-col col-md-4">
                </div>
                <div class="footer-col col-md-4">
                    <h3>Follow us!</h3>
                    <ul class="list-inline">
                        <li class="list-inline-item">
                            <a class="btn-social btn-outline" href="https://www.facebook.com/Equal2030/"rel="noopener noreferrer" target="_blank">
                                <i class="fa fa-fw fa-facebook"></i>
                            </a>
                        </li>

                        <li class="list-inline-item">
                            <a class="btn-social btn-outline" href="https://twitter.com/Equal2030" rel="noopener noreferrer" target="_blank">
                                <i class="fa fa-fw fa-twitter"></i>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a class="btn-social btn-outline" href="https://www.linkedin.com/company-beta/13445896"rel="noopener noreferrer" target="_blank">
                                <i class="fa fa-fw fa-linkedin"></i>
                            </a>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
<div class="scroll-top d-lg-none">
    <a class="btn btn-primary js-scroll-trigger" href="#page-top">
        <i class="fa fa-chevron-up"></i>
    </a>
</div>

<!--&lt;!&ndash; Portfolio Modals &ndash;&gt;-->
<!--<div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">-->
    <!--<div class="modal-dialog" role="document">-->
        <!--<div class="modal-content">-->
            <!--<div class="close-modal" data-dismiss="modal">-->
                <!--<div class="lr">-->
                    <!--<div class="rl"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="container">-->
                <!--<div class="row">-->
                    <!--<div class="col-lg-8 mx-auto">-->
                        <!--<div class="modal-body">-->
                            <!--<h2></h2>-->
                            <!--&lt;!&ndash;<hr class="star-primary">&ndash;&gt;-->
                            <!--<img class="img-fluid img-centered" src="{{ url_for('static',filename='img/portfolio/1.jpg') }}" alt="">-->
                            <!--<p>Ghana</p>-->
                            <!--<button class="btn btn-success" type="button" data-dismiss="modal">-->
                                <!--<i class="fa fa-times"></i>-->
                                <!--Close</button>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->
<!--<div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">-->
    <!--<div class="modal-dialog" role="document">-->
        <!--<div class="modal-content">-->
            <!--<div class="close-modal" data-dismiss="modal">-->
                <!--<div class="lr">-->
                    <!--<div class="rl"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="container">-->
                <!--<div class="row">-->
                    <!--<div class="col-lg-8 mx-auto">-->
                        <!--<div class="modal-body">-->
                            <!--<h2></h2>-->
                            <!--&lt;!&ndash;<hr class="star-primary">&ndash;&gt;-->
                            <!--<img class="img-fluid img-centered" src="{{ url_for('static',filename='img/portfolio/2.jpg') }}" alt="">-->
                            <!--<p>Uganda</p>-->
                            <!--<button class="btn btn-success" type="button" data-dismiss="modal">-->
                                <!--<i class="fa fa-times"></i>-->
                                <!--Close</button>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->
<!--<div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-hidden="true">-->
    <!--<div class="modal-dialog" role="document">-->
        <!--<div class="modal-content">-->
            <!--<div class="close-modal" data-dismiss="modal">-->
                <!--<div class="lr">-->
                    <!--<div class="rl"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="container">-->
                <!--<div class="row">-->
                    <!--<div class="col-lg-8 mx-auto">-->
                        <!--<div class="modal-body">-->
                            <!--<h2></h2>-->
                            <!--&lt;!&ndash;<hr class="star-primary">&ndash;&gt;-->
                            <!--<img class="img-fluid img-centered" src="{{ url_for('static',filename='img/portfolio/3.JPG') }}" alt="">-->
                            <!--<p>Senegal</p>-->
                            <!--<button class="btn btn-success" type="button" data-dismiss="modal">-->
                                <!--<i class="fa fa-times"></i>-->
                                <!--Close</button>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->
<!--<div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" role="dialog" aria-hidden="true">-->
    <!--<div class="modal-dialog" role="document">-->
        <!--<div class="modal-content">-->
            <!--<div class="close-modal" data-dismiss="modal">-->
                <!--<div class="lr">-->
                    <!--<div class="rl"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="container">-->
                <!--<div class="row">-->
                    <!--<div class="col-lg-8 mx-auto">-->
                        <!--<div class="modal-body">-->
                            <!--<h2></h2>-->
                            <!--&lt;!&ndash;<hr class="star-primary">&ndash;&gt;-->
                            <!--<img class="img-fluid img-centered" src="{{ url_for('static',filename='img/portfolio/4.jpg') }}" alt="">-->
                            <!--<p>India</p>-->
                            <!--<button class="btn btn-success" type="button" data-dismiss="modal">-->
                                <!--<i class="fa fa-times"></i>-->
                                <!--Close</button>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->
<!--<div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" role="dialog" aria-hidden="true">-->
    <!--<div class="modal-dialog" role="document">-->
        <!--<div class="modal-content">-->
            <!--<div class="close-modal" data-dismiss="modal">-->
                <!--<div class="lr">-->
                    <!--<div class="rl"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="container">-->
                <!--<div class="row">-->
                    <!--<div class="col-lg-8 mx-auto">-->
                        <!--<div class="modal-body">-->
                            <!--<h2></h2>-->
                            <!--&lt;!&ndash;<hr class="star-primary">&ndash;&gt;-->
                            <!--<img class="img-fluid img-centered" src="{{ url_for('static',filename='img/portfolio/5.jpg') }}" alt="">-->
                            <!--<p>South Africa</p>-->
                            <!--<button class="btn btn-success" type="button" data-dismiss="modal">-->
                                <!--<i class="fa fa-times"></i>-->
                                <!--Close</button>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->
<!--<div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" role="dialog" aria-hidden="true">-->
    <!--<div class="modal-dialog" role="document">-->
        <!--<div class="modal-content">-->
            <!--<div class="close-modal" data-dismiss="modal">-->
                <!--<div class="lr">-->
                    <!--<div class="rl"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="container">-->
                <!--<div class="row">-->
                    <!--<div class="col-lg-8 mx-auto">-->
                        <!--<div class="modal-body">-->
                            <!--<h2></h2>-->
                            <!--&lt;!&ndash;<hr class="star-primary">&ndash;&gt;-->
                            <!--<img class="img-fluid img-centered" src="{{ url_for('static',filename='img/portfolio/6.jpg') }}" alt="">-->
                            <!--<p>Kenya</p>-->
                            <!--<button class="btn btn-success" type="button" data-dismiss="modal">-->
                                <!--<i class="fa fa-times"></i>-->
                                <!--Close</button>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->

<!-- Bootstrap core JavaScript -->
<script src="{{ url_for('static',filename='js/jquery.min.js') }}"></script>
<script src="{{ url_for('static',filename='js/bootstrap.bundle.min.js') }}"></script>

<!-- Plugin JavaScript -->
<script src="{{ url_for('static',filename='js/jquery.easing.min.js') }}"></script>

<!-- Contact Form JavaScript -->
<script src="{{ url_for('static',filename='js/jqBootstrapValidation.js') }}"></script>
<script src="{{ url_for('static',filename='js/contact_me.js') }}"></script>

<!-- Custom scripts for this template -->
<script src="{{ url_for('static',filename='js/freelancer.min.js') }}"></script>

</body>

</html>
